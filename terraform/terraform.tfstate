{
  "version": 4,
  "terraform_version": "1.6.6",
  "serial": 77,
  "lineage": "e1f0f60d-aea2-1af5-147c-0bac27a6fb0a",
  "outputs": {
    "controller_ip": {
      "value": "192.168.100.10",
      "type": "string"
    },
    "database_ip": {
      "value": "192.168.100.12",
      "type": "string"
    },
    "hub_ip": {
      "value": "192.168.100.11",
      "type": "string"
    },
    "network_cidr": {
      "value": "192.168.100.0/24",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "managed",
      "type": "libvirt_cloudinit_disk",
      "name": "controller_init",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/var/lib/libvirt/images/aap/controller-init.iso;d8e61b9a-1b15-40c9-a07d-6ddc5ffe9cd9",
            "meta_data": "",
            "name": "controller-init.iso",
            "network_config": "version: 2\nethernets:\n  eth0:\n    dhcp4: true\n    dhcp6: false",
            "pool": "aap-pool",
            "user_data": "#cloud-config\nhostname: aap-controller\nfqdn: aap-controller.aap.local\nmanage_etc_hosts: true\n\nusers:\n  - default\n  - name: ansible\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCdQBI3l/SI5Y7QjWoFl5525iAG4w8kniXVL5nK6JfkFW4ahYOO3rvuK6x/iWNLtEpVmrCMQ0xkPtNAWCmyxYb3AJrMQesDnnxAszzAaJ4hvWCi+L5xP3GNS7CvlQPV5eZlZfTINlnGNkaf+CYa88euxNP4SXQ8oISgi2c4imi5WGdp8ZHLxfBqRnVwhgB/6GvWVfZ/qPtEgjaPhXH3FgYpjR1qE0VPFz+CU7hol20ZBX5YGivyo5XacX5W9tte+pkGdNlFT6848q9594L8b4Zc82ozLCPlooDgxX4Di2nxtX1SUDIkK2ygDa873RZpo5DEHx7+3tlHwxDJsy8P5h4tG1I8SYzoTCUlQULvVPdykZDduci7I6KQzPogxFuiGRsvwvCDYJyH4yznZ4FsjWxWKm9hEKIn6aCwZnT8BIyNyudKcz3FWPxUO4ur2Y/v7ObWeBehcVF/NLRYBbcRF62OZAgHunycnJHTr5AdDMskbrANi0AkE0XG4ZAdQ+ONaas= msilmser@PC-NZXT\n\npackages:\n  - python3\n  - python3-pip\n  - git\n  - curl\n  - wget\n  - vim\n  - net-tools\n\nruncmd:\n  - systemctl enable --now sshd\n  - firewall-cmd --permanent --add-service=ssh\n  - firewall-cmd --permanent --add-service=https\n  - firewall-cmd --permanent --add-port=443/tcp\n  - firewall-cmd --permanent --add-port=80/tcp\n  - firewall-cmd --reload\n  - echo \"192.168.100.10 aap-controller aap-controller.aap.local\" \u003e\u003e /etc/hosts\n  - echo \"192.168.100.11 aap-hub aap-hub.aap.local\" \u003e\u003e /etc/hosts\n  - echo \"192.168.100.12 aap-database aap-database.aap.local\" \u003e\u003e /etc/hosts\n\nwrite_files:\n  - path: /etc/systemd/resolved.conf\n    content: |\n      [Resolve]\n      DNS=192.168.100.1\n      Domains=aap.local\n    append: false\n  - path: /home/ansible/.ssh/config\n    content: |\n      Host *\n          StrictHostKeyChecking no\n          UserKnownHostsFile /dev/null\n    owner: ansible:ansible\n    permissions: '0600'"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "libvirt_pool.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_cloudinit_disk",
      "name": "database_init",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/var/lib/libvirt/images/aap/database-init.iso;923f790b-4a9b-43c0-b374-394b10df79ca",
            "meta_data": "",
            "name": "database-init.iso",
            "network_config": "version: 2\nethernets:\n  eth0:\n    dhcp4: true\n    dhcp6: false",
            "pool": "aap-pool",
            "user_data": "#cloud-config\nhostname: aap-database\nfqdn: aap-database.aap.local\nmanage_etc_hosts: true\n\nusers:\n  - default\n  - name: ansible\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCdQBI3l/SI5Y7QjWoFl5525iAG4w8kniXVL5nK6JfkFW4ahYOO3rvuK6x/iWNLtEpVmrCMQ0xkPtNAWCmyxYb3AJrMQesDnnxAszzAaJ4hvWCi+L5xP3GNS7CvlQPV5eZlZfTINlnGNkaf+CYa88euxNP4SXQ8oISgi2c4imi5WGdp8ZHLxfBqRnVwhgB/6GvWVfZ/qPtEgjaPhXH3FgYpjR1qE0VPFz+CU7hol20ZBX5YGivyo5XacX5W9tte+pkGdNlFT6848q9594L8b4Zc82ozLCPlooDgxX4Di2nxtX1SUDIkK2ygDa873RZpo5DEHx7+3tlHwxDJsy8P5h4tG1I8SYzoTCUlQULvVPdykZDduci7I6KQzPogxFuiGRsvwvCDYJyH4yznZ4FsjWxWKm9hEKIn6aCwZnT8BIyNyudKcz3FWPxUO4ur2Y/v7ObWeBehcVF/NLRYBbcRF62OZAgHunycnJHTr5AdDMskbrANi0AkE0XG4ZAdQ+ONaas= msilmser@PC-NZXT\n\npackages:\n  - python3\n  - python3-pip\n  - git\n  - curl\n  - wget\n  - vim\n  - net-tools\n  - postgresql-server\n  - postgresql-contrib\n\nruncmd:\n  - systemctl enable --now sshd\n  - firewall-cmd --permanent --add-service=ssh\n  - firewall-cmd --permanent --add-service=postgresql\n  - firewall-cmd --permanent --add-port=5432/tcp\n  - firewall-cmd --reload\n  - echo \"192.168.100.10 aap-controller aap-controller.aap.local\" \u003e\u003e /etc/hosts\n  - echo \"192.168.100.11 aap-hub aap-hub.aap.local\" \u003e\u003e /etc/hosts\n  - echo \"192.168.100.12 aap-database aap-database.aap.local\" \u003e\u003e /etc/hosts\n\nwrite_files:\n  - path: /etc/systemd/resolved.conf\n    content: |\n      [Resolve]\n      DNS=192.168.100.1\n      Domains=aap.local\n    append: false\n  - path: /home/ansible/.ssh/config\n    content: |\n      Host *\n          StrictHostKeyChecking no\n          UserKnownHostsFile /dev/null\n    owner: ansible:ansible\n    permissions: '0600'"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "libvirt_pool.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_cloudinit_disk",
      "name": "hub_init",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/var/lib/libvirt/images/aap/hub-init.iso;d61f8b88-766a-4da1-a19c-e124d738fc2a",
            "meta_data": "",
            "name": "hub-init.iso",
            "network_config": "version: 2\nethernets:\n  eth0:\n    dhcp4: true\n    dhcp6: false",
            "pool": "aap-pool",
            "user_data": "#cloud-config\nhostname: aap-hub\nfqdn: aap-hub.aap.local\nmanage_etc_hosts: true\n\nusers:\n  - default\n  - name: ansible\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCdQBI3l/SI5Y7QjWoFl5525iAG4w8kniXVL5nK6JfkFW4ahYOO3rvuK6x/iWNLtEpVmrCMQ0xkPtNAWCmyxYb3AJrMQesDnnxAszzAaJ4hvWCi+L5xP3GNS7CvlQPV5eZlZfTINlnGNkaf+CYa88euxNP4SXQ8oISgi2c4imi5WGdp8ZHLxfBqRnVwhgB/6GvWVfZ/qPtEgjaPhXH3FgYpjR1qE0VPFz+CU7hol20ZBX5YGivyo5XacX5W9tte+pkGdNlFT6848q9594L8b4Zc82ozLCPlooDgxX4Di2nxtX1SUDIkK2ygDa873RZpo5DEHx7+3tlHwxDJsy8P5h4tG1I8SYzoTCUlQULvVPdykZDduci7I6KQzPogxFuiGRsvwvCDYJyH4yznZ4FsjWxWKm9hEKIn6aCwZnT8BIyNyudKcz3FWPxUO4ur2Y/v7ObWeBehcVF/NLRYBbcRF62OZAgHunycnJHTr5AdDMskbrANi0AkE0XG4ZAdQ+ONaas= msilmser@PC-NZXT\n\npackages:\n  - python3\n  - python3-pip\n  - git\n  - curl\n  - wget\n  - vim\n  - net-tools\n\nruncmd:\n  - systemctl enable --now sshd\n  - firewall-cmd --permanent --add-service=ssh\n  - firewall-cmd --permanent --add-service=https\n  - firewall-cmd --permanent --add-port=443/tcp\n  - firewall-cmd --permanent --add-port=80/tcp\n  - firewall-cmd --reload\n  - echo \"192.168.100.10 aap-controller aap-controller.aap.local\" \u003e\u003e /etc/hosts\n  - echo \"192.168.100.11 aap-hub aap-hub.aap.local\" \u003e\u003e /etc/hosts\n  - echo \"192.168.100.12 aap-database aap-database.aap.local\" \u003e\u003e /etc/hosts\n\nwrite_files:\n  - path: /etc/systemd/resolved.conf\n    content: |\n      [Resolve]\n      DNS=192.168.100.1\n      Domains=aap.local\n    append: false\n  - path: /home/ansible/.ssh/config\n    content: |\n      Host *\n          StrictHostKeyChecking no\n          UserKnownHostsFile /dev/null\n    owner: ansible:ansible\n    permissions: '0600'"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "libvirt_pool.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_domain",
      "name": "aap_controller",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arch": "x86_64",
            "autostart": false,
            "boot_device": [],
            "cloudinit": "/var/lib/libvirt/images/aap/controller-init.iso;d8e61b9a-1b15-40c9-a07d-6ddc5ffe9cd9",
            "cmdline": null,
            "console": [
              {
                "source_host": "127.0.0.1",
                "source_path": "",
                "source_service": "0",
                "target_port": "0",
                "target_type": "serial",
                "type": "pty"
              }
            ],
            "coreos_ignition": null,
            "cpu": [
              {
                "mode": "custom"
              }
            ],
            "description": "",
            "disk": [
              {
                "block_device": "",
                "file": "",
                "scsi": false,
                "url": "",
                "volume_id": "/var/lib/libvirt/images/aap/aap-controller.qcow2",
                "wwn": ""
              }
            ],
            "emulator": "/usr/bin/qemu-system-x86_64",
            "filesystem": [],
            "firmware": null,
            "fw_cfg_name": "opt/com.coreos/config",
            "graphics": [
              {
                "autoport": true,
                "listen_address": "127.0.0.1",
                "listen_type": "address",
                "type": "spice",
                "websocket": 0
              }
            ],
            "id": "7daef253-ece8-466c-a93d-6232420ecbd9",
            "initrd": "",
            "kernel": "",
            "machine": "pc",
            "memory": 4096,
            "metadata": null,
            "name": "aap-controller",
            "network_interface": [
              {
                "addresses": [],
                "bridge": "",
                "hostname": "aap-controller",
                "mac": "52:54:00:06:AE:FE",
                "macvtap": "",
                "network_id": "6b07c978-745b-4a66-bd7b-5fef42454442",
                "network_name": "aap-network",
                "passthrough": "",
                "private": "",
                "vepa": "",
                "wait_for_lease": false
              }
            ],
            "nvram": null,
            "qemu_agent": false,
            "running": true,
            "timeouts": null,
            "tpm": [],
            "type": "kvm",
            "vcpu": 2,
            "video": [],
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "libvirt_cloudinit_disk.controller_init",
            "libvirt_network.aap_network",
            "libvirt_pool.default",
            "libvirt_volume.controller_volume"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_domain",
      "name": "aap_database",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arch": "x86_64",
            "autostart": false,
            "boot_device": [],
            "cloudinit": "/var/lib/libvirt/images/aap/database-init.iso;923f790b-4a9b-43c0-b374-394b10df79ca",
            "cmdline": null,
            "console": [
              {
                "source_host": "127.0.0.1",
                "source_path": "",
                "source_service": "0",
                "target_port": "0",
                "target_type": "serial",
                "type": "pty"
              }
            ],
            "coreos_ignition": null,
            "cpu": [
              {
                "mode": "custom"
              }
            ],
            "description": "",
            "disk": [
              {
                "block_device": "",
                "file": "",
                "scsi": false,
                "url": "",
                "volume_id": "/var/lib/libvirt/images/aap/aap-database.qcow2",
                "wwn": ""
              }
            ],
            "emulator": "/usr/bin/qemu-system-x86_64",
            "filesystem": [],
            "firmware": null,
            "fw_cfg_name": "opt/com.coreos/config",
            "graphics": [
              {
                "autoport": true,
                "listen_address": "127.0.0.1",
                "listen_type": "address",
                "type": "spice",
                "websocket": 0
              }
            ],
            "id": "43d50543-eb57-49a7-8b97-32060b88cf3a",
            "initrd": "",
            "kernel": "",
            "machine": "pc",
            "memory": 2048,
            "metadata": null,
            "name": "aap-database",
            "network_interface": [
              {
                "addresses": [],
                "bridge": "",
                "hostname": "aap-database",
                "mac": "52:54:00:C2:6E:11",
                "macvtap": "",
                "network_id": "6b07c978-745b-4a66-bd7b-5fef42454442",
                "network_name": "aap-network",
                "passthrough": "",
                "private": "",
                "vepa": "",
                "wait_for_lease": false
              }
            ],
            "nvram": null,
            "qemu_agent": false,
            "running": true,
            "timeouts": null,
            "tpm": [],
            "type": "kvm",
            "vcpu": 2,
            "video": [],
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "libvirt_cloudinit_disk.database_init",
            "libvirt_network.aap_network",
            "libvirt_pool.default",
            "libvirt_volume.database_volume"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_domain",
      "name": "aap_hub",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arch": "x86_64",
            "autostart": false,
            "boot_device": [],
            "cloudinit": "/var/lib/libvirt/images/aap/hub-init.iso;d61f8b88-766a-4da1-a19c-e124d738fc2a",
            "cmdline": null,
            "console": [
              {
                "source_host": "127.0.0.1",
                "source_path": "",
                "source_service": "0",
                "target_port": "0",
                "target_type": "serial",
                "type": "pty"
              }
            ],
            "coreos_ignition": null,
            "cpu": [
              {
                "mode": "custom"
              }
            ],
            "description": "",
            "disk": [
              {
                "block_device": "",
                "file": "",
                "scsi": false,
                "url": "",
                "volume_id": "/var/lib/libvirt/images/aap/aap-hub.qcow2",
                "wwn": ""
              }
            ],
            "emulator": "/usr/bin/qemu-system-x86_64",
            "filesystem": [],
            "firmware": null,
            "fw_cfg_name": "opt/com.coreos/config",
            "graphics": [
              {
                "autoport": true,
                "listen_address": "127.0.0.1",
                "listen_type": "address",
                "type": "spice",
                "websocket": 0
              }
            ],
            "id": "b5613156-d9c5-4934-b7aa-fb8916586748",
            "initrd": "",
            "kernel": "",
            "machine": "pc",
            "memory": 4096,
            "metadata": null,
            "name": "aap-hub",
            "network_interface": [
              {
                "addresses": [],
                "bridge": "",
                "hostname": "aap-hub",
                "mac": "52:54:00:5A:50:0D",
                "macvtap": "",
                "network_id": "6b07c978-745b-4a66-bd7b-5fef42454442",
                "network_name": "aap-network",
                "passthrough": "",
                "private": "",
                "vepa": "",
                "wait_for_lease": false
              }
            ],
            "nvram": null,
            "qemu_agent": false,
            "running": true,
            "timeouts": null,
            "tpm": [],
            "type": "kvm",
            "vcpu": 2,
            "video": [],
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "libvirt_cloudinit_disk.hub_init",
            "libvirt_network.aap_network",
            "libvirt_pool.default",
            "libvirt_volume.hub_volume"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_network",
      "name": "aap_network",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "addresses": [
              "192.168.100.0/24"
            ],
            "autostart": true,
            "bridge": "virbr1",
            "dhcp": [
              {
                "enabled": true
              }
            ],
            "dns": [
              {
                "enabled": true,
                "forwarders": [],
                "hosts": [],
                "local_only": false,
                "srvs": []
              }
            ],
            "dnsmasq_options": [],
            "domain": "aap.local",
            "id": "6b07c978-745b-4a66-bd7b-5fef42454442",
            "mode": "nat",
            "mtu": null,
            "name": "aap-network",
            "routes": [],
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_pool",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation": 18892607488,
            "available": 1062208569344,
            "capacity": 1081101176832,
            "id": "9b62cd0b-c08c-4c2e-8d64-ff8f09bc99f8",
            "name": "aap-pool",
            "path": null,
            "source": [],
            "target": [
              {
                "path": "/var/lib/libvirt/images/aap"
              }
            ],
            "type": "dir",
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_volume",
      "name": "controller_volume",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base_volume_id": null,
            "base_volume_name": null,
            "base_volume_pool": null,
            "format": "qcow2",
            "id": "/var/lib/libvirt/images/aap/aap-controller.qcow2",
            "name": "aap-controller.qcow2",
            "pool": "aap-pool",
            "size": 10737418240,
            "source": "https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-x86_64-9-latest.x86_64.qcow2",
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "libvirt_pool.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_volume",
      "name": "database_volume",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base_volume_id": null,
            "base_volume_name": null,
            "base_volume_pool": null,
            "format": "qcow2",
            "id": "/var/lib/libvirt/images/aap/aap-database.qcow2",
            "name": "aap-database.qcow2",
            "pool": "aap-pool",
            "size": 10737418240,
            "source": "https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-x86_64-9-latest.x86_64.qcow2",
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "libvirt_pool.default"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "libvirt_volume",
      "name": "hub_volume",
      "provider": "provider[\"registry.terraform.io/dmacvicar/libvirt\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base_volume_id": null,
            "base_volume_name": null,
            "base_volume_pool": null,
            "format": "qcow2",
            "id": "/var/lib/libvirt/images/aap/aap-hub.qcow2",
            "name": "aap-hub.qcow2",
            "pool": "aap-pool",
            "size": 10737418240,
            "source": "https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-x86_64-9-latest.x86_64.qcow2",
            "xml": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "libvirt_pool.default"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
